AWSTemplateFormatVersion: '2010-09-09'
Description: Lake Formation permissions generated from Ranger
Resources:
  LFPerm0_sales_ops:
    Properties:
      DataLakePrincipal:
        DataLakePrincipalIdentifier: sales_ops
      Permissions:
      - SELECT
      - INSERT
      Resource:
        Table:
          CatalogId:
            Ref: AWS::AccountId
          DatabaseName: sales
          Name: performance_metrics
    Type: AWS::LakeFormation::Permissions
  LFPerm1_sales_analyst:
    Properties:
      DataLakePrincipal:
        DataLakePrincipalIdentifier: sales_analyst
      Permissions: &id001
      - SELECT
      - INSERT
      - ALTER
      Resource:
        Table:
          CatalogId:
            Ref: AWS::AccountId
          DatabaseName: sales
          Name: forecasts
    Type: AWS::LakeFormation::Permissions
  LFPerm1_sales_ops:
    Properties:
      DataLakePrincipal:
        DataLakePrincipalIdentifier: sales_ops
      Permissions: *id001
      Resource:
        Table:
          CatalogId:
            Ref: AWS::AccountId
          DatabaseName: sales
          Name: forecasts
    Type: AWS::LakeFormation::Permissions
  LFPerm2_medical_affairs_team:
    Properties:
      DataLakePrincipal:
        DataLakePrincipalIdentifier: medical_affairs_team
      Permissions:
      - SELECT
      Resource:
        Table:
          CatalogId:
            Ref: AWS::AccountId
          DatabaseName: medaffairs
          Name: publications
    Type: AWS::LakeFormation::Permissions
  LFPerm3_glossary_mgr:
    Properties:
      DataLakePrincipal:
        DataLakePrincipalIdentifier: glossary_mgr
      Permissions: &id002
      - SELECT
      - INSERT
      - ALTER
      - DELETE
      Resource:
        Table:
          CatalogId:
            Ref: AWS::AccountId
          DatabaseName: medaffairs
          Name: field_glossary
    Type: AWS::LakeFormation::Permissions
  LFPerm3_medical_affairs_team:
    Properties:
      DataLakePrincipal:
        DataLakePrincipalIdentifier: medical_affairs_team
      Permissions: *id002
      Resource:
        Table:
          CatalogId:
            Ref: AWS::AccountId
          DatabaseName: medaffairs
          Name: field_glossary
    Type: AWS::LakeFormation::Permissions
